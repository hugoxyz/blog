
# 开启深度测试黑屏

我们都知道 glEnalbe(GL_DEPTH_TEST) 可以开启深度测试, 就会有近的物体挡住远的物体的效果. 所以我满心欢喜地程序开启调用了这句, 但是结果却是, 之前可以显示出来的物体反而显示不出来了.

why?

难道是因为刚好镜头在物体中吗,加了旋转,移动物体或镜头的代码, 一样显示不出来了.

难道是因为 GL_DEPTH_TEST 会影响到shader中逻辑, 确认后, 应该不是这里.

最后找到地方, 应该是打开 opengl 的深度测试, 应该在每一帧之前都清一下深度缓存 glClear(GL_DEPTH_BUFFER_BIT) , 注意这里只清了深度缓存, 实际项目中, 肯定还会清其它项, 比如 GL_COLOR_BUFFER_BIT.
